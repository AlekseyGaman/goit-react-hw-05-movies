"use strict";(self.webpackChunkreact_homework_template=self.webpackChunkreact_homework_template||[]).push([[866],{4866:function(n,e,t){t.r(e),t.d(e,{default:function(){return q}});var r,o,i,a,c,s=t(1413),l=t(3433),u=t(5861),p=t(9439),d=t(7757),x=t.n(d),f=t(2791),h=t(1087),m=t(7689),g=t(1134),b=t(9135),Z=t(9085),v=t(2410),y=t(2049),w=t(7358),k=t(168),j=t(6444),S=j.ZP.div(r||(r=(0,k.Z)(["\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  margin-bottom: 30px;\n"]))),_=j.ZP.form(o||(o=(0,k.Z)(["\n  display: flex;\n  align-items: center;\n  width: 100%;\n  max-width: 600px;\n  background-color: #fff;\n  border-radius: 3px;\n  overflow: hidden;\n  border: 1px solid #000;\n"]))),z=j.ZP.button(i||(i=(0,k.Z)(["\n  display: flex;\n  align-items: center;\n  width: 48px;\n  height: 48px;\n  border: 0;\n  opacity: 0.6;\n  transition: opacity 250ms cubic-bezier(0.4, 0, 0.2, 1);\n  cursor: pointer;\n  outline: none;\n  :hover {\n    opacity: 1;\n    color: #ce4d45;\n  }\n"]))),C=j.ZP.input(a||(a=(0,k.Z)(["\n  display: inline-block;\n  width: 100%;\n  font: inherit;\n  font-size: 20px;\n  border: none;\n  outline: none;\n  padding-left: 5px;\n  padding-right: 5px;\n  ::placeholder {\n    font: inherit;\n    font-size: 18px;\n  }\n"]))),P=j.ZP.button(c||(c=(0,k.Z)(["\n  padding: 8px 16px;\n  border-radius: 3px;\n  background-color: #dddddd;\n  transition: all 250ms cubic-bezier(0.4, 0, 0.2, 1);\n  text-align: center;\n  display: block;\n  color: #fff;\n  border: 0;\n  text-decoration: none;\n  cursor: pointer;\n  font-family: inherit;\n  font-size: 18px;\n  line-height: 24px;\n  font-style: normal;\n  font-weight: 500;\n  width: 180px;\n  margin: 0 auto;\n  margin-bottom: 40px;\n  box-shadow: 0px 3px 1px -2px rgba(0, 0, 0, 0.2),\n    0px 2px 2px 0px rgba(0, 0, 0, 0.14), 0px 1px 5px 0px rgba(0, 0, 0, 0.12);\n  :hover,\n  :focus {\n    color: #ce4d45;\n    background-color: #c4c4c4;\n  }\n"]))),A=t(184),q=function(){var n,e=(0,f.useState)(""),t=(0,p.Z)(e,2),r=t[0],o=t[1],i=(0,f.useState)(0),a=(0,p.Z)(i,2),c=a[0],d=a[1],k=(0,f.useState)([]),j=(0,p.Z)(k,2),q=j[0],F=j[1],I=(0,f.useState)(1),O=(0,p.Z)(I,2),U=O[0],E=O[1],G=(0,f.useState)(!1),H=(0,p.Z)(G,2),L=H[0],M=H[1],T=(0,h.lr)(),B=(0,p.Z)(T,2),D=B[0],J=B[1],K=null!==(n=D.get("search"))&&void 0!==n?n:"",N=(0,g.cI)(),Q=N.register,R=N.handleSubmit,V=(0,m.TH)();(0,f.useEffect)((function(){var n="https://api.themoviedb.org/3/search/movie?api_key=977f926e593c9ca5548c1d2b3d2a0ca4&language=en-US&query=".concat(r,"&page=").concat(U,"&include_adult=false");if(o(K),r){var e=function(){var e=(0,u.Z)(x().mark((function e(){var t;return x().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,M(!0),e.next=4,(0,w.Z)(n);case 4:t=e.sent,F((function(n){return[].concat((0,l.Z)(n),(0,l.Z)(t.results))})),d(t.total_results),1===U&&(0===t.total_results?Z.Am.error("Oops, we didn't find anything"):Z.Am.success("Great, we found ".concat(t.total_results," movies"))),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(0),Z.Am.error("Oops something wrong - try again");case 13:return e.prev=13,M(!1),e.finish(13);case 16:case"end":return e.stop()}}),e,null,[[0,10,13,16]])})));return function(){return e.apply(this,arguments)}}();e()}}),[U,r,K]);var W=Math.round(c/q.length);return(0,A.jsxs)(A.Fragment,{children:[(0,A.jsx)(S,{children:(0,A.jsxs)(_,{onSubmit:R((function(n){console.log(n.name),r!==n&&(J({search:n.name}),F([]),E(1),o(n.name))})),children:[(0,A.jsx)(C,(0,s.Z)((0,s.Z)({type:"text"},Q("name",{required:!0})),{},{autoComplete:"off",autoFocus:!0,placeholder:"Search movie"})),(0,A.jsx)(z,{type:"submit",children:(0,A.jsx)(b.U41,{size:30})})]})}),(0,A.jsx)(y.Z,{movies:q,location:V}),0!==q.length&&1!==W&&(0,A.jsx)(P,{onClick:function(){E((function(n){return n+1}))},children:"Load more"}),L&&(0,A.jsx)(v.Z,{}),(0,A.jsx)(Z.Ix,{autoClose:2500})]})}}}]);
//# sourceMappingURL=866.138fc038.chunk.js.map